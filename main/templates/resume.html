{% extends 'base.html' %}
{% load static %}

{% block title %}Resume - Portfolio{% endblock %}

{% block content %}
<section class="page-header">
    <div class="container">
        <h1 class="page-title">
            <span class="title-bracket">&lt;</span>
            Resume
            <span class="title-bracket">/&gt;</span>
        </h1>
        <p class="page-description">My professional experience, education, certificates, and skills</p>
        {% if about.resume_file %}
        <div style="margin-top: 1rem;">
            <a href="{{ about.resume_file.url }}" target="_blank" class="btn btn-primary" download>Download PDF Resume</a>
        </div>
        {% endif %}
    </div>
</section>

<section class="resume-section">
    <div class="container">
        {% if experiences %}
        <div class="resume-block">
            <h2 class="resume-heading">
                <span class="icon">üíº</span>
                Work Experience
            </h2>
            <div class="timeline">
                {% for experience in experiences %}
                <div class="timeline-item" data-aos="fade-up">
                    <div class="timeline-marker"></div>
                    <div class="timeline-content">
                        <div class="timeline-header">
                            <h3 class="timeline-title">{{ experience.position }}</h3>
                            <span class="timeline-company">{{ experience.company }}</span>
                            <span class="timeline-date">{{ experience.get_duration }}</span>
                            {% if experience.is_current %}
                            <span class="badge badge-current">Current</span>
                            {% endif %}
                        </div>
                        <p class="timeline-description">{{ experience.description }}</p>
                        {% if experience.achievements %}
                        <ul class="timeline-achievements">
                            {% for achievement in experience.get_achievements_list %}
                            <li>{{ achievement }}</li>
                            {% endfor %}
                        </ul>
                        {% endif %}
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
        {% endif %}

        {% if education %}
        <div class="resume-block">
            <h2 class="resume-heading">
                <span class="icon">üéì</span>
                Education
            </h2>
            <div class="timeline">
                {% for edu in education %}
                <div class="timeline-item" data-aos="fade-up">
                    <div class="timeline-marker"></div>
                    <div class="timeline-content">
                        <div class="timeline-header">
                            <h3 class="timeline-title">{{ edu.degree }}</h3>
                            <span class="timeline-company">{{ edu.institution }}</span>
                            <span class="timeline-date">{{ edu.get_duration }}</span>
                        </div>
                        <p class="timeline-field">{{ edu.field_of_study }}</p>
                        {% if edu.gpa %}
                        <p class="timeline-gpa">GPA: {{ edu.gpa }}</p>
                        {% endif %}
                        {% if edu.description %}
                        <p class="timeline-description">{{ edu.description }}</p>
                        {% endif %}
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
        {% endif %}

        {% if certificates %}
        <div class="resume-block">
            <h2 class="resume-heading">
                <span class="icon">üìú</span>
                Certificates
            </h2>
            <div class="timeline">
                {% for cert in certificates %}
                <div class="timeline-item" data-aos="fade-up">
                    <div class="timeline-marker"></div>
                    <div class="timeline-content">
                        <div class="timeline-header">
                            <h3 class="timeline-title">{{ cert.title }}</h3>
                            <span class="timeline-company">{{ cert.issuing_organization }}</span>
                            <span class="timeline-date">{{ cert.get_date_display }}</span>
                            {% if cert.is_expired %}
                            <span class="badge" style="background-color: #ff6600;">Expired</span>
                            {% endif %}
                        </div>
                        {% if cert.credential_id %}
                        <p class="timeline-field">Credential ID: {{ cert.credential_id }}</p>
                        {% endif %}
                        {% if cert.description %}
                        <p class="timeline-description">{{ cert.description }}</p>
                        {% endif %}
                        {% if cert.certificate_image %}
                        <div style="margin-top: 1rem;">
                            <a href="{{ cert.certificate_image.url }}" target="_blank">
                                <img src="{{ cert.certificate_image.url }}" alt="{{ cert.title }}" style="max-width: 100%; max-height: 400px; border-radius: 8px; border: 1px solid #ddd;">
                            </a>
                        </div>
                        {% endif %}
                        {% if cert.credential_url %}
                        <div style="margin-top: 0.5rem;">
                            <a href="{{ cert.credential_url }}" target="_blank" class="btn btn-sm" style="font-size: 0.9rem; padding: 0.4rem 0.8rem;">Verify Certificate</a>
                        </div>
                        {% endif %}
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
        {% endif %}

        {% if skills_by_category %}
        <div class="resume-block">
            <h2 class="resume-heading">
                <span class="icon">üõ†Ô∏è</span>
                Skills
            </h2>
            <div class="skills-grid">
                {% for category, skills in skills_by_category.items %}
                <div class="skill-category" data-aos="fade-up">
                    <h3 class="skill-category-title">{{ category }}</h3>
                    <div class="skills-list">
                        {% for skill in skills %}
                        <div class="skill-item">
                            <div class="skill-header">
                                <span class="skill-name">{{ skill.name }}</span>
                                <span class="skill-level">{{ skill.get_proficiency_display }}</span>
                            </div>
                            <div class="skill-bar">
                                <div class="skill-progress" style="--progress: {{ skill.get_proficiency_percentage }}%; width: var(--progress)"></div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
        {% endif %}
    </div>
</section>

<!-- <section class="cta-section">
    <div class="container">
        <div class="cta-content">
            <h2>Interested in Working Together?</h2>
            <p>Let's connect and discuss how I can help with your project.</p>
            <a href="{% url 'main:contact' %}" class="btn btn-primary">Get in Touch</a>
        </div>
    </div>
</section> -->
{% endblock %}

